[gd_scene load_steps=17 format=2]

[ext_resource path="res://assets/guy/torso.png" type="Texture" id=1]
[ext_resource path="res://assets/guy/hips.png" type="Texture" id=2]
[ext_resource path="res://assets/guy/head.png" type="Texture" id=3]
[ext_resource path="res://assets/guy/arm-R.png" type="Texture" id=4]
[ext_resource path="res://assets/guy/leg-L.png" type="Texture" id=5]
[ext_resource path="res://assets/guy/arm-L.png" type="Texture" id=6]
[ext_resource path="res://assets/guy/leg-R.png" type="Texture" id=7]
[ext_resource path="res://src/Player/CutoutAnimation.gd" type="Script" id=8]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 155.512, 146.592 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 148.03, 265.641 )

[sub_resource type="Animation" id=3]
length = 0.7
tracks/0/type = "value"
tracks/0/path = NodePath("Hips/Torso:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2, 0.5, 0.7 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 92.5792, 92.5792, 0.0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Hips/Torso:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.2, 0.5, 0.7 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 25.4559, -63.6396 ), Vector2( -48.6266, -36.7005 ), Vector2( -48.6266, -36.7005 ), Vector2( 25.4559, -63.6396 ) ]
}

[sub_resource type="Animation" id=4]
length = 1.5
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Hips/RightLeg:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5, 1, 1.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, -43.354, 22.2403, 0.0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Hips/LeftLeg:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5, 1, 1.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, -29.8033, 39.379, 0.0 ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Hips/Torso/RightArm:rotation_degrees")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.6, 0.9, 1.4 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 15.6193, -29.9361, 15.7888 ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Hips/Torso/LeftArm:rotation_degrees")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.3, 0.7, 1.2 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 20.0343, -4.29798, 29.4431 ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("Hips/Torso/Head:rotation_degrees")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 0.2, 0.4, 0.6, 0.9, 1.1, 1.3 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 14.6687, -2.84918, 14.5414, 0.865474, 10.237, -5.65684 ]
}

[sub_resource type="AnimationNodeAnimation" id=5]
animation = "Duck"

[sub_resource type="AnimationNodeOneShot" id=6]
filter_enabled = true
filters = [ "Hips/Torso:position", "Hips/Torso:rotation_degrees" ]

[sub_resource type="AnimationNodeAnimation" id=7]
animation = "Run"

[sub_resource type="AnimationNodeBlendTree" id=8]
graph_offset = Vector2( 0, 151.5 )
nodes/DuckAnimation/node = SubResource( 5 )
nodes/DuckAnimation/position = Vector2( 300, 240 )
nodes/DuckOneShot/node = SubResource( 6 )
nodes/DuckOneShot/position = Vector2( 600, 100 )
nodes/RunAnimation/node = SubResource( 7 )
nodes/RunAnimation/position = Vector2( 360, 80 )
nodes/output/position = Vector2( 860, 120 )
node_connections = [ "output", 0, "DuckOneShot", "DuckOneShot", 0, "RunAnimation", "DuckOneShot", 1, "DuckAnimation" ]

[node name="CutoutAnimation" type="Node2D"]
script = ExtResource( 8 )

[node name="Hips" type="Sprite" parent="."]
position = Vector2( 14.6692, -317.379 )
texture = ExtResource( 2 )

[node name="Area2D" type="Area2D" parent="Hips"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hips/Area2D"]
position = Vector2( -1.95563, 160.578 )
shape = SubResource( 1 )

[node name="Torso" type="Sprite" parent="Hips"]
position = Vector2( 25.4559, -63.6396 )
texture = ExtResource( 1 )

[node name="Head" type="Sprite" parent="Hips/Torso"]
position = Vector2( 18.9566, -264.791 )
rotation = 0.0497223
texture = ExtResource( 3 )
offset = Vector2( 16.3987, -122.704 )

[node name="LeftArm" type="Sprite" parent="Hips/Torso"]
position = Vector2( 97.9845, -189.321 )
rotation = 0.109299
z_index = -1
texture = ExtResource( 6 )
offset = Vector2( 92.9344, -110.492 )

[node name="RightArm" type="Sprite" parent="Hips/Torso"]
position = Vector2( -86.0992, -227.485 )
rotation = -0.407172
z_index = -1
texture = ExtResource( 4 )
offset = Vector2( -62.3932, -106.269 )

[node name="Area2D" type="Area2D" parent="Hips/Torso"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hips/Torso/Area2D"]
position = Vector2( -4.23779, -228.844 )
shape = SubResource( 2 )

[node name="LeftLeg" type="Sprite" parent="Hips"]
position = Vector2( 75.0489, 45.0079 )
rotation = 0.340732
z_index = -1
texture = ExtResource( 5 )
offset = Vector2( 18.2892, 124.698 )

[node name="RightLeg" type="Sprite" parent="Hips"]
position = Vector2( -81.7516, 36.5322 )
rotation = 0.0595786
z_index = -1
texture = ExtResource( 7 )
offset = Vector2( -46.9418, 117.617 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/Duck = SubResource( 3 )
anims/Run = SubResource( 4 )

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource( 8 )
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/DuckOneShot/active = false
[connection signal="area_entered" from="Hips/Area2D" to="." method="_on_Area2D_area_entered"]
[connection signal="area_entered" from="Hips/Torso/Area2D" to="." method="_on_Area2D_area_entered"]
